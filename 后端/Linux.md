
# Linux目录
一切皆文件
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657072953222-1ea2aa93-06c6-460c-9adf-bb97d8ea355f.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=297&id=u3cf685fb&margin=%5Bobject%20Object%5D&name=image.png&originHeight=305&originWidth=690&originalType=binary&ratio=1&rotation=0&showTitle=false&size=35100&status=done&style=none&taskId=ucfefd5da-091c-45e0-abbb-401f152e2f5&title=&width=673)
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657073078169-7f6ff55f-3bf4-4f8f-aae1-43a1f130a503.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=327&id=u95d41be0&margin=%5Bobject%20Object%5D&name=image.png&originHeight=325&originWidth=673&originalType=binary&ratio=1&rotation=0&showTitle=false&size=127812&status=done&style=none&taskId=ue8d1cb08-b5e2-4241-8c87-cd06591d0dc&title=&width=677.4000244140625)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657073095629-2c5d4531-3d87-41b5-860f-9cb0fb6363df.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=301&id=u029dd445&margin=%5Bobject%20Object%5D&name=image.png&originHeight=323&originWidth=686&originalType=binary&ratio=1&rotation=0&showTitle=false&size=155113&status=done&style=none&taskId=u5c17ebc2-d533-46a1-801c-7914625a28d&title=&width=638.7999877929688)
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657073137104-4be63a53-116a-4354-92d3-4cb9274b4e01.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=321&id=ua6ad1b3f&margin=%5Bobject%20Object%5D&name=image.png&originHeight=353&originWidth=691&originalType=binary&ratio=1&rotation=0&showTitle=false&size=160139&status=done&style=none&taskId=u809c645d-aa1f-4773-bbbc-bf68fa1a320&title=&width=628.7999877929688)
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657073189693-aebfee5f-4660-44cd-868e-08407386f1b3.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=323&id=u2a3df6a3&margin=%5Bobject%20Object%5D&name=image.png&originHeight=336&originWidth=684&originalType=binary&ratio=1&rotation=0&showTitle=false&size=172439&status=done&style=none&taskId=uab23f8f0-5277-4a43-adcc-d97cb5e6494&title=&width=657.2000122070312)
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657073220328-3b8b9189-dc2c-4595-a8e5-20094ec46cf3.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=211&id=u5873ffde&margin=%5Bobject%20Object%5D&name=image.png&originHeight=217&originWidth=695&originalType=binary&ratio=1&rotation=0&showTitle=false&size=100292&status=done&style=none&taskId=uc48e20b5-6d03-40c2-8044-a61a22f64b1&title=&width=676)
# VI/VIM
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657074141987-44d34d2a-ca4e-49fa-a0bd-6bf1ee1b796f.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=290&id=u89149429&margin=%5Bobject%20Object%5D&name=image.png&originHeight=363&originWidth=730&originalType=binary&ratio=1&rotation=0&showTitle=false&size=137248&status=done&style=none&taskId=ufbdffb2f-020a-419b-a3cc-cfad308621c&title=&width=584)
**一般模式**
 以 vi 打开一个档案就直接进入一般模式了（这是默认的模式）。在这个模式中， 你可 以使用『上下左右』按键来移动光标，你可以使用『删除字符』或『删除整行』来处理档 案内容， 也可以使用『复制、粘贴』来处理你的文件数据  
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657073490209-2eedaa88-978c-4797-9f7f-cd7e1aa98856.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=427&id=u422975a9&margin=%5Bobject%20Object%5D&name=image.png&originHeight=534&originWidth=824&originalType=binary&ratio=1&rotation=0&showTitle=false&size=106073&status=done&style=none&taskId=ubbcc56a5-880f-43e8-be8f-6a73d14d980&title=&width=659.2)
**编辑模式**
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657073621736-79b51a18-28f4-4e77-94d6-5285a6d5f312.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=209&id=u8e7126a9&margin=%5Bobject%20Object%5D&name=image.png&originHeight=261&originWidth=749&originalType=binary&ratio=1&rotation=0&showTitle=false&size=36682&status=done&style=none&taskId=u67825a39-ce7a-4afa-9869-1f1b5b8efcd&title=&width=599.2)
**指令模式**
 在一般模式当中，输入『 : / ?』3个中的任何一个按钮，就可以将光标移动到最底下那 一行  
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657073678862-2fb25066-d911-4795-bd68-b4714378bf1a.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=252&id=u70e1ba46&margin=%5Bobject%20Object%5D&name=image.png&originHeight=315&originWidth=779&originalType=binary&ratio=1&rotation=0&showTitle=false&size=50152&status=done&style=none&taskId=u1324584d-f481-454f-a2d5-97f29b07d25&title=&width=623.2)
 强制保存退出 :wq!  
# Linux指令


## 用户管理

| `su -用户名`
`su 用户名` |  切换用户，并获得该用户的环境变量及执行权限  
切换用户，只能获得用户的执行权限，不能获得环境变量   |   |
| --- | --- | --- |
| `logout` | 注销/从当前用户返回之前的用户  | 在图形界面下无效，只在运行级别三下有效 |
| `useradd 用户名` | 添加用户 | 添加用户后默认用户的家目录在/home/用户名 |
| `useradd -d 目录 用户名` | 指定用户的家目录 |  |
| `usermod -g 组名 用户名` | 修改用户的组 |  |
| `userdel 用户名` | 删除用户(不删除家目录） |  |
| `userdel -r 用户名` | 删除用户并删除家目录 |  |
| `passwd 用户名` | 给用户修改/指定密码  |  |
| `id 用户名` | 查询用户信息 |  |
| `who am i` | 查询当前登录用户 |  |
| `cat /etc/passwd` | 查看创建了哪些用户 |  |

**设置普通用户有root权限**
修改配置文件    `vi /etc/sudoer`  
修改 /etc/sudoers 文件，在91 行，在 root 下面添加一行，如下所示：
```java
## Allow root to run any commands anywhere
root ALL=(ALL) ALL
atguigu ALL=(ALL) ALL
```
或者配置成采用 sudo 命令时，不需要输入密码 
```java
## Allow root to run any commands anywhere
root ALL=(ALL) ALL
atguigu ALL=(ALL) NOPASSWD:ALL
```
修改完毕，现在可以用 atguigu 帐号登录，然后用命令 sudo ，即可获得 root 权限进行操作。  

![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1650424045900-4012a0bb-1010-4fca-bbe1-2657a3fd6594.png#clientId=ue48f241f-6528-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=431&id=u621c0484&margin=%5Bobject%20Object%5D&name=image.png&originHeight=539&originWidth=1035&originalType=binary&ratio=1&rotation=0&showTitle=false&size=842125&status=done&style=none&taskId=u2a875109-de78-4726-8f44-f21eb044efd&title=&width=828)
## 组管理

| `ls -ahl` | 查看文件所有者/所属组 |  |
| --- | --- | --- |
| `groupadd 组名` | 新增组 |  |
| `gruopdel 组名` | 删除组 |  |
| `groupmod -n 新组名 老组名` | 修改组 |  -n<新组名> 指定工作组的新组名   |
| `cat /etc/group`   |  查看创建了哪些组   |  |

## 权限管理
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657086897518-41758e29-6772-4a95-b93f-b6eba279e7d0.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=209&id=uf07ea7d6&margin=%5Bobject%20Object%5D&name=image.png&originHeight=261&originWidth=544&originalType=binary&ratio=1&rotation=0&showTitle=false&size=65106&status=done&style=none&taskId=uecdb30e7-b343-43ef-a9e7-76c5b5d3e78&title=&width=435.2)
（1）0 首位表示类型 在Linux中第一个字符代表这个文件是目录、文件或链接文件等等 - 代表文件 d 代表目录 l 链接文档(link file)； 
（2）第1-3位确定属主（该文件的所有者）拥有该文件的权限。---User 
（3）第4-6位确定属组（所有者的同组用户）拥有该文件的权限，---Group 
（4）第7-9位确定其他用户拥有该文件的权限 ---Other  
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655809848610-b4a48f3d-4e01-4c05-b153-1a97f2b67ebf.png#clientId=u2c145c94-6882-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=284&id=RI9WY&margin=%5Bobject%20Object%5D&name=image.png&originHeight=355&originWidth=1023&originalType=binary&ratio=1&rotation=0&showTitle=false&size=478111&status=done&style=none&taskId=ud6917eba-86c1-4cb2-a3db-bdc165b5cfd&title=&width=818.4)
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657087056636-81b0d52c-deaf-414f-8f9b-cfe335bfee22.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=205&id=u02b25d2b&margin=%5Bobject%20Object%5D&name=image.png&originHeight=256&originWidth=827&originalType=binary&ratio=1&rotation=0&showTitle=false&size=205848&status=done&style=none&taskId=u21a02325-170c-4a63-8733-c20de9182c6&title=&width=661.6)

| `chown [选项] [最终用户] [文件或目录]`    |  改变文件或者目录的所有者   |  -R 递归操作   |
| --- | --- | --- |
| `chgrp [最终用户组] [文件或目录]`   |  改变文件或者目录的所属组   |  |
| `usermod -g 新组名 用户名`
`usermod -d 目录名 用户名` | 改变用户所在的组
改变该用户登录的初始目录 |  |
|  `chmod [{ugoa}{+-=}{rwx}] 文件或目录  `  |  改变权限   | u：所有者，g：所有组  
o：其他组，a：所有人
`chmod u-x,o+x houg` |
| `chmod [mode=421] 文件或目录` |  改变权限   | r=4，w=2，x=1
`chmod 777 xiyou`  |

## 帮助
man [命令或配置文件]   获得帮助信息
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657077660770-d3b37f12-040a-4a8f-b06f-6258ed3593df.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=191&id=u74edee87&margin=%5Bobject%20Object%5D&name=image.png&originHeight=239&originWidth=792&originalType=binary&ratio=1&rotation=0&showTitle=false&size=49923&status=done&style=none&taskId=ufb6c7426-5c4f-4c51-a9f7-3d6e776e53b&title=&width=633.6)
部分基础功能的系统命令是直接内嵌在 shell 中的，系统加载启动之后会随着 shell 一起加载，常驻系统内存中。这部分命令被称为“内置（built-in）命令”；相应的其它命令 被称为“外部命令”。  

help 命令   获得 shell 内置命令的帮助信息  
## 文件目录
| `pwd` | 显示当前工作目录的绝对路径 |  |
| --- | --- | --- |
| `ls [选项] [目录或是文件]` | 显示所有文件 | -a  全部的文件，连同隐藏档( 开头为 . 的文件) 一起列出来(常用  
-l  长数据串列出，包含文件的属性与权限等等数据；(常用)等价于`ll` |
| `cd [参数] `  | 切换到指定目录 | ![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657078084363-c681dfa3-66d9-432e-8bbc-a00a42142b1f.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=206&id=uc9cce209&margin=%5Bobject%20Object%5D&name=image.png&originHeight=257&originWidth=793&originalType=binary&ratio=1&rotation=0&showTitle=false&size=56894&status=done&style=none&taskId=u016aef2f-d0f7-4063-bba3-80740da80fb&title=&width=634.4) |
|  |  |  |
| `rmdir 要删除的目录`  | 删除目录（只能删除空目录） |  |
| `mkdir [选项] 要创建的目录` | 创建一级目录 | `-p` 创建多级目录 |
| `rm [选项] 要删除的文件或目录`  | 删除目录或文件 | `-r` 删除整个目录
`-f` 强制删除不提示
`-v` 显示指令的详细执行过程   |
| `touch 文件名称` | 创建空文件 | `touch hello.txt` |
|  |  |  |
| `cp [选项] 源文件 目标文件`  | 复制文件或目录  | `-r`递归复制整个文件夹
`\\cp` 强制覆盖文件夹或目录不提示 |
| `mv 旧文件名 新文件名` 
`mv 旧文件/目录 新目录` | 重命名 
移动文件 |  |
| `cat [选项] 文件`  | 查看文件 | `-n` 显示行号
 一般查看比较小的文件，一屏幕能显示全的   |
| `more 文件`  | 查看文件 | more指令是一个文本过滤器，分页显示，内置快捷键
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657078654174-5e211204-c846-418d-9c72-d254c43b579a.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=80&id=u2a692aae&margin=%5Bobject%20Object%5D&name=image.png&originHeight=100&originWidth=767&originalType=binary&ratio=1&rotation=0&showTitle=false&size=17408&status=done&style=none&taskId=ufe69506e-9a46-443a-bfde-8249e724193&title=&width=613.6)
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657078627177-7796588f-10f3-45df-8c14-4d2c42b27557.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=165&id=uf849d855&margin=%5Bobject%20Object%5D&name=image.png&originHeight=206&originWidth=785&originalType=binary&ratio=1&rotation=0&showTitle=false&size=42897&status=done&style=none&taskId=u22beca79-7ac9-4a3b-a5c5-e5064e74538&title=&width=628) |
| `less 文件`  | 查看文件 | 如果文件比较大效率比较高
分屏看内容，功能比more强大，不是将整个文件加载后才显示，而是根据显示需要加载内容![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657078697790-942659dc-ba46-4765-b065-32dc646647e4.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=204&id=uc02e2640&margin=%5Bobject%20Object%5D&name=image.png&originHeight=255&originWidth=782&originalType=binary&ratio=1&rotation=0&showTitle=false&size=54051&status=done&style=none&taskId=u01458320-ea4a-4a3d-9de5-360aaa95e0e&title=&width=625.6) |


| `echo [选项] [输出内容]`  | echo输出内容到控制台 | 输出环境变量，输出文本内容
例如 ：`echo $HOSTNAME`
 -e： 支持反斜线控制的字符转换   |
| --- | --- | --- |
| `head 文件` | 用于显示文件开头内容，默认为前十行 | `head -n 5 文件` 查看前五行  |
| `tail 文件` | 显示文件未内容，默认为最后10行 | `tail -n 5 文件`
`tail -f 文件` 实时追踪该文档的所有更新）  
 |
| `tail -f [文件]`  | 实时追踪文档所有更新 当文件变化时，实时的追加日期 |  |
| >：输出重定向
>>：追加 | `ls -l > 文件` 将列表中的内容写入文件中（覆盖）
`ls -al >> 文件` 将列表的内容追加到文件的末尾
`cat 文件 > 文件` 将前者文件覆盖到后者
`echo "文本内容" >> 文件` 追加内容 | 目录如果不存在自动创建 |
| `ln -s[源文件或目录] [软链接名]`  | 给源文件创建一个软连接（快捷方式） |  删除软链接： rm -rf 软链接名 |
| `history` | 查看历史命令 | `history 10` 查看最近的10条指令
`!5` 将历史指令中的第五条执行 |


## 时间
| `date  [选项] [+时间格式]` | 
 | -d<时间字符串>    显示指定的“时间字符串”表示的时间，而非当前时间  
-s<日期时间>   设置系统日期时间    
<+日期时间格式> 指定显示时使用的日期时间格式   |
| --- | --- | --- |
|  |  |  |
| `cal [选项]` | 查看日历 | `cal 2020` 查看2020年日历
不加选项显示本月日历 |

（1）date （功能描述：显示当前时间） 
（2）date +%Y （功能描述：显示当前年份） 
（3）date +%m （功能描述：显示当前月份） 
（4）date +%d （功能描述：显示当前是哪一天） 
（5）date "+%Y-%m-%d %H:%M:%S" （功能描述：显示年月日时分秒）  
（1）date -d '1 days ago' （功能描述：显示前一天时间） 
（2）date -d '-1 days ago' （功能描述：显示明天时间）  
## 搜素查找
| `find [搜索范围] [选项]` | 查找文件或目录 | ![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655798338227-d03f6bc1-f028-4c90-8a02-46e03898252d.png#clientId=u2c145c94-6882-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=95&id=u528a3873&margin=%5Bobject%20Object%5D&name=image.png&originHeight=119&originWidth=505&originalType=binary&ratio=1&rotation=0&showTitle=false&size=46179&status=done&style=none&taskId=u00dc48e6-f74b-4bd0-877e-7a05783938a&title=&width=404)
-name [文件或目录名]
-size [+n(大于)  -n(小于) n(等于)]
-user [用户名]  |
| --- | --- | --- |
| `locate 搜索文件` |  快速定位文件路径   | 使用事先建立的数据库，使用前先用`updatedb`更新数据库
 |
| `grep [选项] 查找内容 源文件` | 查找文件指定内容 | -n 显示匹配行和行号
-i 忽略字母大小写
`cat /home/hello.txt &#124;grep "yes"`
`grep -n "yes" /home/hello.txt` |
| `&#124;` |  管道符，表示将前一个命令的处理结果输出传递给后面的命令处理   |  |

## 压缩和解压
| `gzip 文件` | 压缩 | 文件压缩为.gz文件
只能压缩文件不能压缩目录 
不保留原来的文件 
 同时多个文件会产生多个压缩包   |
| --- | --- | --- |
| `gunzip 文件.gz` | 解压 |  |
| `zip [选项] 压缩后的文件.zip 被压缩的内容` | 压缩 | -r 递归压缩，压缩目录 |
| `unzip [选项] XXX.zip` | 解压 | -d<目录> 解压后存放的目录 |
| `tar [选项] 压缩后的文件.tar.gz 打包的内容` | 打包目录，压缩后文件格式为.tar.gz | -c  产生.tar打包文件
-v 显示详细 信息
-f指定压缩后的文件名
-z打包同时压缩
-x解压.tar文件
-C 解压后存放的目录 |

## 磁盘分区
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655863235644-8bc2154e-745a-45e9-ba61-4c2a2a9daca7.png#clientId=u8aefc25a-ccac-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=322&id=C9jcK&margin=%5Bobject%20Object%5D&name=image.png&originHeight=402&originWidth=1077&originalType=binary&ratio=1&rotation=0&showTitle=false&size=554692&status=done&style=none&taskId=ubbc3286a-8a58-4098-bd8f-6e4a998a409&title=&width=861.6)

| `lsblk`或者`lsblk -f` | 查看挂载情况 |  |
| --- | --- | --- |
| `fdisk -l` | 查看磁盘分区详情   |  |
| `df [选项]` | 查看磁盘使用情况 | -h 自行显示 |
| `du [选项] [目录/文件]` | 查询指定目录磁盘使用情况，默认为当前目录 | ![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657090789888-79a106cc-990d-47cc-bd79-a83fd762d382.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=147&id=u77d96258&margin=%5Bobject%20Object%5D&name=image.png&originHeight=184&originWidth=763&originalType=binary&ratio=1&rotation=0&showTitle=false&size=54214&status=done&style=none&taskId=u7db7c4a2-563c-4f6d-b7b3-2217bb6a85c&title=&width=610.4) |

## 进程管理
 ps aux | grep xxx  查看系统中所有进程
 ps -ef | grep xxx  可以查看子父进程之间的关系
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657091539170-21819ed1-456b-4f84-a3db-a64d7c0ad26e.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=181&id=u0901332a&margin=%5Bobject%20Object%5D&name=image.png&originHeight=226&originWidth=779&originalType=binary&ratio=1&rotation=0&showTitle=false&size=56236&status=done&style=none&taskId=u9d227f0f-5de5-48f7-8a78-c50aeaf4bae&title=&width=623.2)
（1）ps aux 显示信息说明
USER：该进程是由哪个用户产生的 
PID：进程的 ID 号 %CPU：该进程占用 CPU 资源的百分比，占用越高，进程越耗费资源； 
%MEM：该进程占用物理内存的百分比，占用越高，进程越耗费资源； 
VSZ：该进程占用虚拟内存的大小，单位 KB； 
RSS：该进程占用实际物理内存的大小，单位 KB； 
TTY：该进程是在哪个终端中运行的。对于 CentOS 来说，tty1 是图形化终端， tty2-tty6 是本地的字符界面终端。pts/0-255 代表虚拟终端。 
STAT：进程状态。常见的状态有：R：运行状态、S：睡眠状态、T：暂停状态、 Z：僵尸状态、s：包含子进程、l：多线程、+：前台显示 
START：该进程的启动时间  
TIME：该进程占用 CPU 的运算时间，注意不是系统时间 
COMMAND：产生此进程的命令名 
（2）ps -ef 显示信息说明 
UID：用户 ID PID：进程 ID 
PPID：父进程 ID C：CPU 用于计算执行优先级的因子。数值越大，表明进程是 CPU 密集型运算， 执行优先级会降低；数值越小，表明进程是 I/O 密集型运算，执行优先级会提高 
STIME：进程启动的时间 
TTY：完整的终端名称 
TIME：CPU 时间 
CMD：启动进程所用的命令和参数 

如果想查看进程的 CPU 占用率和内存占用率，可以使用 aux; 如果想查看进程的父进程 ID 可以使用 ef  

| `kill [选项] 进程号` | 终止进程 | -9 强制进程停止 |
| --- | --- | --- |
| `killall 进程名称` | 通过名称终止进程 |  |
| `pstree [选项] ` | 显示进程树 | -p  显示PID
-u  显示进程所属用户 |

| `top [选项]` |  实时监控系统进程状态   |
| --- | --- |

![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657091836140-0dc433ed-aca5-497d-81ef-c2f306da638e.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=85&id=XTTck&margin=%5Bobject%20Object%5D&name=image.png&originHeight=106&originWidth=780&originalType=binary&ratio=1&rotation=0&showTitle=false&size=28998&status=done&style=none&taskId=u1e8e1aa0-df55-430d-8e14-f2c1b68c72c&title=&width=624)
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657091842174-37dec8c2-6648-439c-a4ee-f93815413aad.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=56&id=Lqajg&margin=%5Bobject%20Object%5D&name=image.png&originHeight=70&originWidth=778&originalType=binary&ratio=1&rotation=0&showTitle=false&size=27045&status=done&style=none&taskId=ua1c6b196-916d-423b-ba33-f3109a3f0d5&title=&width=622.4)
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657091855911-2d62a825-8805-437e-a799-bd562ec2ef15.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=122&id=g2NEv&margin=%5Bobject%20Object%5D&name=image.png&originHeight=152&originWidth=769&originalType=binary&ratio=1&rotation=0&showTitle=false&size=27410&status=done&style=none&taskId=uf1982cae-4408-4283-b222-6461f706fdf&title=&width=615.2)
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657091883261-d8e86036-1c90-449b-a4d3-f29aac02004a.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=495&id=cPnP1&margin=%5Bobject%20Object%5D&name=image.png&originHeight=619&originWidth=780&originalType=binary&ratio=1&rotation=0&showTitle=false&size=125791&status=done&style=none&taskId=ubabcf307-dcc1-48a4-a957-3ac4912fca7&title=&width=624)
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657091895897-62d08472-24f5-4d44-bb2d-d6c7c347bee8.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=310&id=sfgAc&margin=%5Bobject%20Object%5D&name=image.png&originHeight=388&originWidth=782&originalType=binary&ratio=1&rotation=0&showTitle=false&size=88369&status=done&style=none&taskId=u72a2d0c3-d186-472b-a446-3a5d1aac2ca&title=&width=625.6)
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657091908029-6670c723-c441-4015-b38a-282bf15aa234.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=544&id=ogv6T&margin=%5Bobject%20Object%5D&name=image.png&originHeight=680&originWidth=784&originalType=binary&ratio=1&rotation=0&showTitle=false&size=157848&status=done&style=none&taskId=u932e1b5b-87b5-4c59-9c66-b808d76df6a&title=&width=627.2)
 netstat -anp | grep 进程号  查看该进程网络信息
 netstat –nlp | grep 端口号 查看网络端口号占用情况
  ![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657092022948-934dc38a-f21d-4d15-a598-3f4af404e766.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=190&id=ueda9f821&margin=%5Bobject%20Object%5D&name=image.png&originHeight=237&originWidth=786&originalType=binary&ratio=1&rotation=0&showTitle=false&size=47441&status=done&style=none&taskId=ud45a7543-4554-4582-ba4d-e0b0b709de7&title=&width=630)
##  运行级别
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657076910116-764a0573-7762-45ee-9cb7-b324e0bee3e8.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=282&id=Qu8mT&margin=%5Bobject%20Object%5D&name=image.png&originHeight=353&originWidth=800&originalType=binary&ratio=1&rotation=0&showTitle=false&size=162350&status=done&style=none&taskId=ub4240778-6d20-40f0-be54-afef47a0f1a&title=&width=640)
CentOS7 的运行级别简化为: multi-user.target 等价于原运行级别 3（多用户有网，无图形界面） 		  	                                                 graphical.target 等价于原运行级别 5（多用户有网，有图形界面）  
 systemctl get-default   查看当前运行级别
 systemctl set-default TARGET.target （这里 TARGET 取 multi-user 或者 graphical） 修改当前运行级别  
## 服务管理
 计算机中，一个正在执行的程序或命令，被叫做“进程”（process）。
 启动之后一只存在、常驻内存的进程，一般被称作“服务”（service）。  

| `service 服务名 start/stop/restart/reload/status` | 服务管理
服务启动/停止/重启/查看状态 | CentOS 6版本（了解）
很多现在都用`systemctl` |
| --- | --- | --- |
| `chkconfig` | 查看所有服务器自启配置 |  |
| `chkconfig [--level X] 服务名 on/off/--list` |   开启 /关掉指定服务的自动启动/ 查看服务开机启动状态   | 需要reboot
CentOS 6版本 |
| `systemctl start/stop/restart/status 服务名` | 服务管理
服务启动/停止/重启/查看状态 | CentOS 7（重点） |
| `systemctl list-unit-files`
`systemctl disable 服务名`
`systemctl enable 服务名` | 查看服务开机启动状态
关掉/开启指定服务的自动启动 |  |
|  |  |  |

**关闭防火墙**
 systemctl status firew   查看防火墙状态  
 systemctl stop firewalld   临时关闭防火墙  
 systemctl enable firewalld.service   查看防火墙开机启动状态  
 systemctl disable firewalld.service   设置开机时关闭防火墙  
## 定时任务调度
crontab [选项]    定时任务设置
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657261177984-c859cad3-e665-4727-98fb-f92801a6e70a.png#clientId=u486bbdae-da59-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=169&id=u330472c0&margin=%5Bobject%20Object%5D&name=image.png&originHeight=211&originWidth=775&originalType=binary&ratio=1&rotation=0&showTitle=false&size=28430&status=done&style=none&taskId=u879e24dd-56cd-4bae-9284-5e950013a12&title=&width=620)
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657262019148-4212d0c2-15af-4001-8216-8a12bcaaee87.png#clientId=u486bbdae-da59-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=631&id=u667966ad&margin=%5Bobject%20Object%5D&name=image.png&originHeight=789&originWidth=839&originalType=binary&ratio=1&rotation=0&showTitle=false&size=158806&status=done&style=none&taskId=u0b4eb7c9-99ab-40b1-964f-5ae208c6b9a&title=&width=671.2)
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657262038149-fafd3c8e-b6c4-4e35-a655-fd8b75ee9f67.png#clientId=u486bbdae-da59-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=313&id=u97dc7b73&margin=%5Bobject%20Object%5D&name=image.png&originHeight=391&originWidth=772&originalType=binary&ratio=1&rotation=0&showTitle=false&size=101592&status=done&style=none&taskId=ua9ce6551-4c77-42b5-b333-4dbcc27816a&title=&width=617.6)
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655823333893-a9061f4c-c237-4b79-b2e2-df316ea81909.png#clientId=u2924f1f1-c9df-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=458&id=ud6a5a693&margin=%5Bobject%20Object%5D&name=image.png&originHeight=572&originWidth=1045&originalType=binary&ratio=1&rotation=0&showTitle=false&size=669264&status=done&style=none&taskId=u3507911b-a78b-4eb0-a7d2-6788626782d&title=&width=836)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655823759672-6518dfac-b7d4-4098-b631-cad32a3c0083.png#clientId=u2924f1f1-c9df-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=435&id=ud67b1ad1&margin=%5Bobject%20Object%5D&name=image.png&originHeight=544&originWidth=1067&originalType=binary&ratio=1&rotation=0&showTitle=false&size=636614&status=done&style=none&taskId=ueff46090-bfb8-4efa-a49b-8ff5e33a048&title=&width=853.6)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655823759389-ea75b753-963a-42b0-a16b-356facf3a948.png#clientId=u2924f1f1-c9df-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=310&id=ufc8ceae6&margin=%5Bobject%20Object%5D&name=image.png&originHeight=388&originWidth=857&originalType=binary&ratio=1&rotation=0&showTitle=false&size=210344&status=done&style=none&taskId=u68baf095-0c32-401c-888c-7eefb1de470&title=&width=685.6)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655823776903-14f08b88-7b91-404b-bd9f-289e7798b6da.png#clientId=u2924f1f1-c9df-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=298&id=u2c7b613d&margin=%5Bobject%20Object%5D&name=image.png&originHeight=373&originWidth=1054&originalType=binary&ratio=1&rotation=0&showTitle=false&size=557519&status=done&style=none&taskId=ueb29e2be-f1d6-4e27-ae6e-7fcfcbd7bfe&title=&width=843.2) ![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655829874133-d359769c-b720-4515-ad8f-0f293692f1df.png#clientId=u2924f1f1-c9df-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=38&id=u55e88af6&margin=%5Bobject%20Object%5D&name=image.png&originHeight=47&originWidth=332&originalType=binary&ratio=1&rotation=0&showTitle=false&size=25430&status=done&style=none&taskId=uddff982b-6a30-4e55-a022-642a1dab172&title=&width=265.6)
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655829898988-46cf00b9-3580-4b5d-a68c-686d7553fda4.png#clientId=u2924f1f1-c9df-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=26&id=ua351bd0c&margin=%5Bobject%20Object%5D&name=image.png&originHeight=32&originWidth=392&originalType=binary&ratio=1&rotation=0&showTitle=false&size=25730&status=done&style=none&taskId=u73fd0819-1f61-42d2-ae93-a0d2e52e355&title=&width=313.6)
# 网络配置（重点）
## 查看网络IP和网关
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657074210286-b9e0f6c2-af63-41cc-b6fb-04ad889a0a6a.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=618&id=u75ebde0f&margin=%5Bobject%20Object%5D&name=image.png&originHeight=773&originWidth=834&originalType=binary&ratio=1&rotation=0&showTitle=false&size=348346&status=done&style=none&taskId=u3f624ab0-4244-42b0-a8f1-cd45a0d4498&title=&width=667.2)
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657074220059-b5f18784-28dc-4334-8817-496cf46f2a26.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=351&id=u1db09c4f&margin=%5Bobject%20Object%5D&name=image.png&originHeight=439&originWidth=829&originalType=binary&ratio=1&rotation=0&showTitle=false&size=211133&status=done&style=none&taskId=u26fdfa5c-1fa2-4a92-a1fd-04f8b013a10&title=&width=663.2)
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657074231983-3565d97c-cfe7-4d6d-8920-d762a194ef53.png#clientId=u61284156-faf1-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=399&id=u5ef8ebe9&margin=%5Bobject%20Object%5D&name=image.png&originHeight=499&originWidth=827&originalType=binary&ratio=1&rotation=0&showTitle=false&size=192591&status=done&style=none&taskId=u0fcff34b-8dfc-4635-a695-e904feb7796&title=&width=661.6)
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655866668088-ee7ee0c8-0b82-4a2c-94ca-77116d535717.png#clientId=u8aefc25a-ccac-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=282&id=u8c3e51a4&margin=%5Bobject%20Object%5D&name=image.png&originHeight=353&originWidth=891&originalType=binary&ratio=1&rotation=0&showTitle=false&size=156095&status=done&style=none&taskId=u7353af4c-fc76-4d4a-866b-6366faf7a8d&title=&width=712.8)
## 配置网络ip地址
linux网络ip地址获取方式：
1.自动获取
登陆后，通过界面来设置自动获取ip，linux启动后会自动获取ip，缺点是每次自动获取的ip地址可能不一样
2.指定ip
直接修改配置文件，并可以连接到外网（程序员推荐）

| `ipconfig` | windows查看网络配置 |  |
| --- | --- | --- |
| `ifconfig` | linux查看网络配置 |  |
| `ping 目的主机` | 测试当前服务器是否可以连接目的主机   |  |
| `service network restart` | 重启网络服务 |  |
| `vim /etc/sysconfig/network-scripts/ifcfg-ens33`   | 修改网络相关配置文件 |  |


配置文件内容
```java
TYPE="Ethernet" #网络类型（通常是 Ethemet）
PROXY_METHOD="none"
BROWSER_ONLY="no"
BOOTPROTO="static" #IP 的配置方法[none|static|bootp|dhcp]（引导
时不 使用协议|静态分配 IP|BOOTP 协议|DHCP 协议）
DEFROUTE="yes"
IPV4_FAILURE_FATAL="no"
IPV6INIT="yes"
IPV6_AUTOCONF="yes"
IPV6_DEFROUTE="yes"
IPV6_FAILURE_FATAL="no"
IPV6_ADDR_GEN_MODE="stable-privacy"
NAME="ens33"
UUID="e83804c1-3257-4584-81bb-660665ac22f6" #随机 id
DEVICE="ens33" #接口名（设备,网卡）
ONBOOT="yes" #系统启动的时候网络接口是否有效（yes/no）
#IP 地址
IPADDR=192.168.1.100
#网关
GATEWAY=192.168.1.2
#域名解析器
DNS1=192.168.1.2
```
## 问题
（1）物理机能 ping 通虚拟机，但是虚拟机 ping 不通物理机,一般都是因为物理机的 防火墙问题,把防火墙关闭就行 
（2）虚拟机能 Ping 通物理机,但是虚拟机 Ping 不通外网,一般都是因为 DNS 的设置有问题 
（3）虚拟机 Ping www.baidu.com 显示域名未知等信息,一般查看 GATEWAY 和 DNS 设 置是否正确 
（4）如果以上全部设置完还是不行，需要关闭 NetworkManager 服务  
systemctl stop NetworkManager 关闭 systemctl disable NetworkManager 禁用 
（5）如果检查发现 systemctl status network 有问题 需要检查 ifcfg-ens33  

## 配置主机名
为了方便记忆，给linux设置主机名，修改后重启生效![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655868137254-295a812f-1c6e-46bb-8825-6c4f58a0afa8.png#clientId=u8aefc25a-ccac-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=337&id=ud91fcb0c&margin=%5Bobject%20Object%5D&name=image.png&originHeight=421&originWidth=825&originalType=binary&ratio=1&rotation=0&showTitle=false&size=417122&status=done&style=none&taskId=u01c0026a-300f-428c-aa83-c2b0ef103d2&title=&width=660)
为了通过主机名来找到（比如ping）某个linux系统，修改host映射，一个ip对应一个主机名
host：一个文本文件，用来记录IP和hostname之间的映射关系
DNS：Domain Name System（域名系统）的缩写，是互联网上作为域名和ip地址相互映射的一个分布式数据库

| `vi /etc/hostnam ` | 修改主机名配置 |  |
| --- | --- | --- |
| `hostname` | 查看主机名 |  |
| `vim /etc/host` | 修改host映射文件（主机映射文件） | linux系统 |
| 
 |  |  |

![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655869049996-82c100be-355d-4a62-93e2-093080af5ef9.png#clientId=u8aefc25a-ccac-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=438&id=u7ee7a0ca&margin=%5Bobject%20Object%5D&name=image.png&originHeight=548&originWidth=1104&originalType=binary&ratio=1&rotation=0&showTitle=false&size=690376&status=done&style=none&taskId=uf1e34a71-240e-4aa9-8606-e21dc56d499&title=&width=883.2)
## 
# RPM和YUM
### RPM
RPM（RedHat Package Mager），RedHat软件包管理工具，类似于windows中的setup.exe，是linux中的打包安装工具。

| `rpm -qa` | 查询所安装的所有rpm软件包 | 由于软件包比较多，一般都会采取过滤。rpm -qa &#124; grep 软件包名 |
| --- | --- | --- |
| `rpm -e RPM软件包`
`rpm -e --nodes` | 卸载 | --nodes 卸载软件时，不检查依赖，可能导致软件包无法正常使用 |
| `rpm -ivh RPM包全名` | 安装 | -i install安装
-v verbose 显示详细信息
-h hash 进度条
--nodeps 安装前不检查依赖 |

### YUM
YUM（Yellow dog Updater，Modified）基于RPM包管理，能够从指定的服务器自动下载RPM包并安装，可以自动处理依赖性关系，一次安装所有依赖的安装包。
类似于java中的maven
yum  [选项] [参数] 软件
yum -y install firefox
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657262994946-5cb75af3-eb2d-47da-a77f-210ad6313c3d.png#clientId=u486bbdae-da59-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=107&id=u599507d1&margin=%5Bobject%20Object%5D&name=image.png&originHeight=134&originWidth=780&originalType=binary&ratio=1&rotation=0&showTitle=false&size=14331&status=done&style=none&taskId=uc2c4104b-d8df-4483-a4e0-ac5f4a1b671&title=&width=624)
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657263003369-73e62542-f293-43ec-b6e8-28e7d885f55e.png#clientId=u486bbdae-da59-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=282&id=u7ceb066f&margin=%5Bobject%20Object%5D&name=image.png&originHeight=353&originWidth=767&originalType=binary&ratio=1&rotation=0&showTitle=false&size=65750&status=done&style=none&taskId=u7efa03bb-49bf-4296-94ed-c14aed00d56&title=&width=613.6)
### 修改网络YUM源
使用国内镜像，提高速度
1. yum install wge  安装wget，可以从指定的URL下载文件
2.cp CentOS-Base.repo CentOS-Base-163.repo    在/etc/yum.repos.d/目录下，备份默认的 repos 文件 
3.从网易163和阿里选一个
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657263401303-353f0c89-5790-4984-875e-fa2ee8960821.png#clientId=u486bbdae-da59-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=73&id=uda3b1cf1&margin=%5Bobject%20Object%5D&name=image.png&originHeight=91&originWidth=816&originalType=binary&ratio=1&rotation=0&showTitle=false&size=29420&status=done&style=none&taskId=u667d5f93-fb2e-41ce-a1b6-f8b53c79b99&title=&width=652.8)
4.mv CentOS7-Base-163.repo CentOS-Base. repo  使用下载好的 repos 文件替换默认的 repo文件
5.yum clean all 清理旧缓存
6.yum makecache  缓存新数据，把服务器的包信息下载到本地缓存起来

# Shell
## 概述
Shell是一个命令行解释器，他接受应用程序/用户命令，然后调用操作系统内核，shell还是一个功能相当强大的编程语言，易编写，易调试，灵活性强。
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657264458847-4a66551e-e833-40f1-bcc6-6ca0ddbc5299.png#clientId=u486bbdae-da59-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=194&id=u67e00a52&margin=%5Bobject%20Object%5D&name=image.png&originHeight=243&originWidth=368&originalType=binary&ratio=1&rotation=0&showTitle=false&size=27734&status=done&style=none&taskId=ueb9ae7ca-8e72-44b6-81f1-ec3bde3cc72&title=&width=294.4)
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1657264523640-5ca330b8-0890-485d-97d6-24752e4c932a.png#clientId=u486bbdae-da59-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=282&id=ud01cd22f&margin=%5Bobject%20Object%5D&name=image.png&originHeight=353&originWidth=712&originalType=binary&ratio=1&rotation=0&showTitle=false&size=49005&status=done&style=none&taskId=u6b13a785-4c95-48f0-bc93-8aaf8e79678&title=&width=569.6)
## 入门
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655897650447-33ba0f61-8b25-4169-ba34-bc3666b077b5.png#clientId=u8aefc25a-ccac-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=386&id=u9cd3a806&margin=%5Bobject%20Object%5D&name=image.png&originHeight=482&originWidth=798&originalType=binary&ratio=1&rotation=0&showTitle=false&size=582174&status=done&style=none&taskId=u9ebdae85-b648-45f6-8109-94e03a8cb58&title=&width=638.4)
## 变量![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655898011661-eb31e39b-a8a8-4e82-aca0-8680797039c2.png#clientId=u8aefc25a-ccac-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=421&id=u8c5a398f&margin=%5Bobject%20Object%5D&name=image.png&originHeight=526&originWidth=1060&originalType=binary&ratio=1&rotation=0&showTitle=false&size=864514&status=done&style=none&taskId=uc6113b91-bc6f-4d0b-82e2-83b692186e5&title=&width=848)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655898264056-2ce35d37-335f-42ba-930e-b0063718dfc0.png#clientId=u8aefc25a-ccac-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=318&id=u10461c04&margin=%5Bobject%20Object%5D&name=image.png&originHeight=398&originWidth=1024&originalType=binary&ratio=1&rotation=0&showTitle=false&size=607735&status=done&style=none&taskId=u0b6d2704-6672-42b9-8922-749a3d55698&title=&width=819.2)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655898375980-fb409891-317d-432a-a292-3fb6504e93a3.png#clientId=u8aefc25a-ccac-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=350&id=u5c0d70cf&margin=%5Bobject%20Object%5D&name=image.png&originHeight=438&originWidth=1006&originalType=binary&ratio=1&rotation=0&showTitle=false&size=645362&status=done&style=none&taskId=uc42c5d57-191e-4ecd-a588-41afaa66fc1&title=&width=804.8) ![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655899167895-f6a08ad3-ff57-47e4-9dde-e1004869906b.png#clientId=u8aefc25a-ccac-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=427&id=u55b5a6b9&margin=%5Bobject%20Object%5D&name=image.png&originHeight=534&originWidth=1066&originalType=binary&ratio=1&rotation=0&showTitle=false&size=825658&status=done&style=none&taskId=ue64f4900-0fef-4cd4-aea9-7febd7e3272&title=&width=852.8)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655899304416-9ea0c34e-26b2-4221-815b-7049929bd93e.png#clientId=u8aefc25a-ccac-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=384&id=u5b2e8888&margin=%5Bobject%20Object%5D&name=image.png&originHeight=480&originWidth=1040&originalType=binary&ratio=1&rotation=0&showTitle=false&size=701104&status=done&style=none&taskId=u70d8d011-8606-41c6-82e3-65509e511fb&title=&width=832)
## 运算符
“$((运算式))” 或 “$[运算式]”  
## 条件判断
## ![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655899748270-f1d6ec0e-d8ef-4785-8a03-c8532b992e5a.png#clientId=u8aefc25a-ccac-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=299&id=u33604e90&margin=%5Bobject%20Object%5D&name=image.png&originHeight=374&originWidth=889&originalType=binary&ratio=1&rotation=0&showTitle=false&size=436965&status=done&style=none&taskId=u07e8546c-48f4-44ee-a5e6-b999d545efd&title=&width=711.2)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655899814012-9be01f54-4806-4d08-a15b-fd5bfdc25a7b.png#clientId=u8aefc25a-ccac-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=432&id=uae737131&margin=%5Bobject%20Object%5D&name=image.png&originHeight=540&originWidth=880&originalType=binary&ratio=1&rotation=0&showTitle=false&size=690275&status=done&style=none&taskId=u593015d1-5124-4cd1-8d1e-4541754f41e&title=&width=704)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655900106129-1e6e506b-d242-46ef-a971-8a0ce9253a04.png#clientId=u8aefc25a-ccac-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=436&id=uef56b4fc&margin=%5Bobject%20Object%5D&name=image.png&originHeight=545&originWidth=1048&originalType=binary&ratio=1&rotation=0&showTitle=false&size=713724&status=done&style=none&taskId=u7be36bd3-fe7d-4560-9fa0-9b0e0c3afe4&title=&width=838.4)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655900109843-2e3c2d8c-7948-4f3d-ab47-bd3c71172756.png#clientId=u8aefc25a-ccac-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=422&id=u4b938377&margin=%5Bobject%20Object%5D&name=image.png&originHeight=527&originWidth=957&originalType=binary&ratio=1&rotation=0&showTitle=false&size=630808&status=done&style=none&taskId=u96d9c4b0-8829-47d3-b9b6-2b2c9814a94&title=&width=765.6)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655900192584-05dee15b-376f-4e4a-9c6b-d7c98c8c98c0.png#clientId=u8aefc25a-ccac-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=435&id=u848bc8a7&margin=%5Bobject%20Object%5D&name=image.png&originHeight=544&originWidth=768&originalType=binary&ratio=1&rotation=0&showTitle=false&size=415886&status=done&style=none&taskId=u9a175073-a8aa-4c61-aacc-fb390cd6f34&title=&width=614.4)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655904988260-6e45cfe1-8fb7-4830-8e34-12ae2d3055da.png#clientId=u8aefc25a-ccac-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=286&id=u66818dfa&margin=%5Bobject%20Object%5D&name=image.png&originHeight=358&originWidth=776&originalType=binary&ratio=1&rotation=0&showTitle=false&size=329689&status=done&style=none&taskId=u01bc9fab-589c-4081-b25e-c0f65e0aa21&title=&width=620.8)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655905368732-b59d9a45-49cb-4b53-a6b3-773a77fd6c7c.png#clientId=u8aefc25a-ccac-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=390&id=u75dedf15&margin=%5Bobject%20Object%5D&name=image.png&originHeight=487&originWidth=924&originalType=binary&ratio=1&rotation=0&showTitle=false&size=570566&status=done&style=none&taskId=ub9a67df0-520f-41ec-aefa-f28f6b51123&title=&width=739.2)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655905369795-33bc9f02-f2f0-4d72-abe5-69e397260028.png#clientId=u8aefc25a-ccac-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=425&id=u46041d2c&margin=%5Bobject%20Object%5D&name=image.png&originHeight=531&originWidth=983&originalType=binary&ratio=1&rotation=0&showTitle=false&size=719157&status=done&style=none&taskId=ube89e4df-d62b-4f4e-97dd-1ed3602e171&title=&width=786.4)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655915333710-54d658c2-3483-45d9-9f64-13279c37bce5.png#clientId=u8aefc25a-ccac-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=386&id=u4e76db2f&margin=%5Bobject%20Object%5D&name=image.png&originHeight=482&originWidth=749&originalType=binary&ratio=1&rotation=0&showTitle=false&size=421087&status=done&style=none&taskId=udc8c5f3f-e3c0-4f14-873e-70908e442ba&title=&width=599.2)

# 日志管理
![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655947764940-43c80c17-67f8-4534-859e-cfba19f1ed5a.png#clientId=u16c5d6fb-0108-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=411&id=u9adf8898&margin=%5Bobject%20Object%5D&name=image.png&originHeight=514&originWidth=1027&originalType=binary&ratio=1&rotation=0&showTitle=false&size=513954&status=done&style=none&taskId=u462261b0-edb4-4c59-b682-da614e08834&title=&width=821.6)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655948274000-825e91f0-068e-458f-bf66-98ed257d410d.png#clientId=u16c5d6fb-0108-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=370&id=ub6737b7f&margin=%5Bobject%20Object%5D&name=image.png&originHeight=462&originWidth=1063&originalType=binary&ratio=1&rotation=0&showTitle=false&size=451207&status=done&style=none&taskId=uea0e48ab-9086-4bce-8c82-f53abff17a3&title=&width=850.4)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655948541961-5dcd8241-e961-42ab-a5a6-5ad448dd3cde.png#clientId=u16c5d6fb-0108-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=433&id=u19d3d2df&margin=%5Bobject%20Object%5D&name=image.png&originHeight=541&originWidth=938&originalType=binary&ratio=1&rotation=0&showTitle=false&size=594856&status=done&style=none&taskId=ufba696f0-09dc-4a3e-b617-a4c730ba036&title=&width=750.4)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655948549026-386905fd-6fb0-4ab9-b1be-7e7540e3bd36.png#clientId=u16c5d6fb-0108-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=323&id=u5abd0342&margin=%5Bobject%20Object%5D&name=image.png&originHeight=404&originWidth=973&originalType=binary&ratio=1&rotation=0&showTitle=false&size=536928&status=done&style=none&taskId=ub8c93bb7-e788-4081-84f8-cf41bd9a7b7&title=&width=778.4)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655949642774-b56ce392-9930-425c-8c18-6ab503e76e16.png#clientId=u16c5d6fb-0108-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=406&id=ub88fb6a3&margin=%5Bobject%20Object%5D&name=image.png&originHeight=508&originWidth=1087&originalType=binary&ratio=1&rotation=0&showTitle=false&size=857834&status=done&style=none&taskId=u89201b52-cd84-4083-b265-e7679cc9354&title=&width=869.6)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655949683490-401a2a85-c13d-415f-92e1-0c45eb0e5790.png#clientId=u16c5d6fb-0108-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=418&id=u2f99a3fa&margin=%5Bobject%20Object%5D&name=image.png&originHeight=522&originWidth=1011&originalType=binary&ratio=1&rotation=0&showTitle=false&size=785750&status=done&style=none&taskId=u200e9784-4047-491d-a1e1-15dd3edea29&title=&width=808.8)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655949888297-995f25db-a608-4922-977d-8fd25b456ccc.png#clientId=u16c5d6fb-0108-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=414&id=u090d9fff&margin=%5Bobject%20Object%5D&name=image.png&originHeight=517&originWidth=1063&originalType=binary&ratio=1&rotation=0&showTitle=false&size=892460&status=done&style=none&taskId=u0928fb35-8046-4aed-af53-71a383fb1e2&title=&width=850.4) ![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655950019362-6e993dda-ce29-47b1-b347-768ed27cb2f8.png#clientId=u16c5d6fb-0108-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=415&id=u7811394d&margin=%5Bobject%20Object%5D&name=image.png&originHeight=519&originWidth=1104&originalType=binary&ratio=1&rotation=0&showTitle=false&size=752300&status=done&style=none&taskId=uabb61213-3ac6-4a30-bd6c-8dc5c5c3a5a&title=&width=883.2)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655950485684-16459b9f-a606-4935-831c-68beb8ee7916.png#clientId=u16c5d6fb-0108-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=431&id=ub5ebb939&margin=%5Bobject%20Object%5D&name=image.png&originHeight=539&originWidth=950&originalType=binary&ratio=1&rotation=0&showTitle=false&size=299440&status=done&style=none&taskId=u30d7d6bc-e702-4854-ba44-beb39460882&title=&width=760)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655950737187-c92ba468-1dd3-4706-bd82-65da816abf4c.png#clientId=u16c5d6fb-0108-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=383&id=u7c04d283&margin=%5Bobject%20Object%5D&name=image.png&originHeight=479&originWidth=1011&originalType=binary&ratio=1&rotation=0&showTitle=false&size=608412&status=done&style=none&taskId=ue618eae8-4860-40ca-ac60-b7c3c2d2047&title=&width=808.8)

# Linux源码和内核升级
| `uname -a` | 查看当前内核版本 |  |
| --- | --- | --- |
| `yum info kernel -q` | 检测内核版本，显示可升级内容 |  |
| `yum update kernel` | 升级内核 |  |
| `yum list kernel -q` | 查看已经安装的内核 |  |

# Linux备份和恢复
| `yum -y install dump` | 安装dump |  |
| --- | --- | --- |
| `yum -y install restore` | 安装restore |  |

![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655953292163-bfc6d413-86ce-4e18-a146-3592000a347c.png#clientId=u16c5d6fb-0108-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=421&id=u48b173e7&margin=%5Bobject%20Object%5D&name=image.png&originHeight=526&originWidth=1078&originalType=binary&ratio=1&rotation=0&showTitle=false&size=879361&status=done&style=none&taskId=u276d3900-ffe7-4551-8fd8-f5794cb01d7&title=&width=862.4)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655953699284-a0ae87f7-d137-4238-985d-f96b1db25996.png#clientId=u16c5d6fb-0108-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=288&id=u1007c23d&margin=%5Bobject%20Object%5D&name=image.png&originHeight=360&originWidth=904&originalType=binary&ratio=1&rotation=0&showTitle=false&size=348949&status=done&style=none&taskId=uacc4bc91-2a7a-4b7f-85d8-59f8b90a5fd&title=&width=723.2)![image.png](https://cdn.nlark.com/yuque/0/2022/png/27198522/1655954018747-d2dc7612-e0ce-41b8-ade6-4b15ff6ad5a2.png#clientId=u16c5d6fb-0108-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=401&id=ue0d4f97a&margin=%5Bobject%20Object%5D&name=image.png&originHeight=501&originWidth=917&originalType=binary&ratio=1&rotation=0&showTitle=false&size=597345&status=done&style=none&taskId=u6e9f3aec-d8c7-49fb-808a-2ec142b0650&title=&width=733.6)

